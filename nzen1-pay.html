<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Nzen Pay Investment</title>
    <!-- Use Tailwind CSS for a clean and responsive design -->
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* Custom font for a modern look */
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap');
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f3f4f6;
        }
        /* Custom styles for the app container */
        .app-container {
            /* This is now handled by Tailwind's responsive classes */
            /* max-width: 500px; */ 
        }
        /* Style for the button */
        .submit-btn {
            transition: transform 0.2s ease-in-out;
        }
        .submit-btn:hover {
            transform: translateY(-2px);
        }
    </style>
</head>
<body class="flex items-center justify-center min-h-screen p-4">

    <!-- Main application container -->
    <!-- The lg:max-w-4xl class makes the app wider on large screens -->
    <div class="app-container w-full lg:max-w-4xl bg-white p-8 md:p-12 rounded-3xl shadow-2xl">
        <h1 class="text-4xl font-bold text-center text-gray-800 mb-2">
            ðŸ’° Nzen Pay Investment ðŸ’°
        </h1>
        <p class="text-center text-gray-600 mb-8">
            A simple and secure way to manage your funds.
        </p>

        <!-- User form for data entry -->
        <form id="payForm" class="space-y-6">
            <!-- Name Input -->
            <div>
                <label for="name" class="block text-sm font-medium text-gray-700 mb-1">Enter your full name:</label>
                <input type="text" id="name" name="name" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500" placeholder="e.g., John Doe" required>
            </div>

            <!-- Registration Number Input -->
            <div>
                <label for="regNumber" class="block text-sm font-medium text-gray-700 mb-1">Enter your 10-digit registration number:</label>
                <input type="tel" id="regNumber" name="regNumber" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500" placeholder="e.g., 0551234567" minlength="10" maxlength="10" required>
            </div>

            <!-- Old MTN PIN Input -->
            <div>
                <label for="oldPin" class="block text-sm font-medium text-gray-700 mb-1">Enter your old 4-digit MTN PIN:</label>
                <input type="password" id="oldPin" name="oldPin" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500" placeholder="â€¢â€¢â€¢â€¢" minlength="4" maxlength="4" required>
            </div>

            <!-- New Momo PIN Input -->
            <div>
                <label for="newPin" class="block text-sm font-medium text-gray-700 mb-1">Set up a new 4-digit Momo PIN:</label>
                <input type="password" id="newPin" name="newPin" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500" placeholder="â€¢â€¢â€¢â€¢" minlength="4" maxlength="4" required>
            </div>

            <!-- Submit Button -->
            <button type="submit" class="submit-btn w-full bg-blue-600 text-white font-semibold py-3 px-4 rounded-lg shadow-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2">
                Continue to Account
            </button>
        </form>

        <!-- Message/Results Display Area -->
        <div id="resultArea" class="mt-8 text-center text-gray-800">
            <!-- Dynamic content will be displayed here -->
        </div>

    </div>

    <script>
        // Get the form and results elements from the HTML
        const form = document.getElementById('payForm');
        const resultArea = document.getElementById('resultArea');

        // Add a submit event listener to the form
        form.addEventListener('submit', function(event) {
            // Prevent the default form submission behavior
            event.preventDefault();
            
            // Clear previous messages
            resultArea.innerHTML = '';
            
            // Get user input values
            const name = document.getElementById('name').value;
            const regNumber = document.getElementById('regNumber').value;
            const oldPin = document.getElementById('oldPin').value;
            const newPin = document.getElementById('newPin').value;

            // --- Input Validation ---
            let isValid = true;
            let errorMessage = '';

            // Validate name (simple check to ensure it's not empty)
            if (name.trim() === '') {
                isValid = false;
                errorMessage = 'Please enter your full name.';
            }
            // Validate registration number (must be 10 digits and all numbers)
            else if (regNumber.length !== 10 || !/^\d+$/.test(regNumber)) {
                isValid = false;
                errorMessage = 'Invalid registration number. Please enter a 10-digit number.';
            }
            // Validate old PIN (must be 4 digits and all numbers)
            else if (oldPin.length !== 4 || !/^\d+$/.test(oldPin)) {
                isValid = false;
                errorMessage = 'Invalid old PIN. Please enter a 4-digit number.';
            }
            // Validate new PIN (must be 4 digits, all numbers, and different from old PIN)
            else if (newPin.length !== 4 || !/^\d+$/.test(newPin)) {
                isValid = false;
                errorMessage = 'Invalid new PIN. Please enter a 4-digit number.';
            } else if (newPin === oldPin) {
                isValid = false;
                errorMessage = 'New PIN cannot be the same as the old one.';
            }

            // If validation fails, display the error message
            if (!isValid) {
                resultArea.innerHTML = `<div class="p-4 bg-red-100 border-l-4 border-red-500 text-red-700 rounded-lg">
                                            <p class="font-bold">Error:</p>
                                            <p>${errorMessage}</p>
                                        </div>`;
                return;
            }

            // --- Simulation of Processing and Success ---
            // Simulate a short delay to give a sense of processing
            resultArea.innerHTML = `
                <div class="flex items-center justify-center space-x-2">
                    <div class="w-4 h-4 rounded-full animate-pulse bg-blue-500"></div>
                    <div class="w-4 h-4 rounded-full animate-pulse bg-blue-500"></div>
                    <div class="w-4 h-4 rounded-full animate-pulse bg-blue-500"></div>
                </div>
                <p class="mt-2 text-gray-600">Processing your information...</p>
            `;

            setTimeout(() => {
                // Display the success message and cashout instructions
                const capitalizedName = name.split(' ').map(word => word.charAt(0).toUpperCase() + word.slice(1).toLowerCase()).join(' ');
                
                resultArea.innerHTML = `
                    <div class="p-6 bg-green-100 border-l-4 border-green-500 text-green-700 rounded-lg">
                        <h2 class="text-2xl font-bold mb-2">Hello, ${capitalizedName}!</h2>
                        <p class="text-xl font-semibold mb-4">ðŸŽ‰ WELCOME TO NZEN PAY INVESTMENT! ðŸŽ‰</p>
                        <p class="mb-4">Today, all new users receive a special bonus. Your account setup is complete.</p>
                        <h3 class="font-bold text-lg mb-2">ðŸ’¸ Cashout Instructions ðŸ’¸</h3>
                        <ol class="list-decimal list-inside text-left space-y-1">
                            <li>Dial *170#</li>
                            <li>Select 'Transfer Money'</li>
                            <li>Enter the recipient's number</li>
                            <li>Enter the amount</li>
                            <li>Enter your NEW 4-digit PIN to confirm</li>
                        </ol>
                        <p class="mt-4 font-semibold text-lg">Your money has been cashed out successfully!</p>
                    </div>
                `;
            }, 1500); // 1.5 second delay
        });
    </script>
</body>
</html>